(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,n){e.exports=n(86)},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(15),o=n.n(r),i=n(22),c=n(19),s=n(10),u=n(36),p=n.n(u),d=n(37),f=n(13),h="SET_FILE",m="REMOVE_FILE",v="DOWNLOAD_SUCCESSFUL",E="FILE_ERROR",b={fileText:null,loading:!0,fileError:null,download:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)({},e,{fileText:t.payload,loading:!1,fileError:null});case m:return Object(f.a)({},e,{fileText:null,loading:!1,fileError:null});case E:return Object(f.a)({},e,{fileText:null,loading:!1,fileError:t.payload});case v:return Object(f.a)({},e,{loading:!1,fileError:null,download:"Download is succesfull"});default:return e}},C=Object(s.c)({file:g}),w=[p.a,d.a],F=Object(s.d)(C,s.a.apply(void 0,w)),y=(n(54),n(9)),O=(n(55),n(17)),T=n(38),j=n(39),x=n(43),k=n(40),R=n(44),S=(n(56),n(14)),U=n(41),W=n.n(U),A=n(18),D=(n(65),function(e){var t=e.handleChange,n=e.label,a=Object(A.a)(e,["handleChange","label"]);return l.a.createElement("div",{className:"group"},l.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?l.a.createElement("label",{className:"".concat(a.value.length>0?"shrink":""," form-input-label")},n):null)}),N=(n(66),function(e){var t=e.children,n=e.handleClick,a=Object(A.a)(e,["children","handleClick"]);return l.a.createElement("button",Object.assign({className:"custom-button",onClick:n},a),t)}),L=n(11),B=n.n(L),I="/api/v1/files",P=function(e){return{type:h,payload:e}},_=function(){return{type:m}},H=function(){return{type:v}},J=function(e){return{type:E,payload:e}},M=function(e){function t(){var e;return Object(T.a)(this,t),(e=Object(x.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.selectFile=function(t){e.setState({fileForUpload:t.target.files[0]})},e.replaceTextClient=function(){e.props.replaceInFile(e.state.forReplace,e.state.replaceWith),e.setState({forReplace:"",replaceWith:""})},e.uploadFileClient=function(){var t=new FormData;t.append("wordfile",e.state.fileForUpload),e.props.uploadFile(t)},e.state={fileForUpload:null,forReplace:"",replaceWith:""},e}return Object(R.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fileText||this.props.getFile()}},{key:"componentDidUpdate",value:function(){this.props.fileError&&("fail"===this.props.fileError.status?S.ToastsStore.info(this.props.fileError.message):S.ToastsStore.error(this.props.fileError.message))}},{key:"render",value:function(){var e,t=this;return this.props.fileText&&(e=(e=this.props.fileText.replace(/<\/p>|<\/strong>|<strong>|<\/a>|<a>|<\/tr>|<tr>|<\/td>|<td>|<table>|<\/table>|<ul>|<\/ul>|<\/li>|<li>/g,"")).split("<p>")),l.a.createElement("div",{className:"main-page"},l.a.createElement("div",{className:"sidebar"},l.a.createElement(D,{type:"file",handleChange:this.selectFile,name:"wordfile"}),l.a.createElement(N,{handleClick:this.uploadFileClient},"Upload File"),l.a.createElement(N,{handleClick:function(){return t.props.removeFile()}},"Remove File"),l.a.createElement(D,{label:"Search Text",handleChange:this.handleChange,name:"forReplace",value:this.state.forReplace}),l.a.createElement(D,{label:"Replace With",name:"replaceWith",handleChange:this.handleChange,value:this.state.replaceWith}),l.a.createElement(N,{handleClick:this.replaceTextClient},"Replace"),l.a.createElement("div",{className:"button-group-download"},l.a.createElement(N,{handleClick:function(){return t.props.downloadAsWord()}},"Save as Word Document"),l.a.createElement(N,{handleClick:function(){return t.props.downloadAsPDF()}},"Save as PDF document"))),l.a.createElement("div",{className:"file-content"},e?e.map((function(e,n){return l.a.createElement("p",{key:n},l.a.createElement(W.a,{highlightClassName:"YourHighlightClass",searchWords:[t.state.forReplace],autoEscape:!0,textToHighlight:e,caseSensitive:!0}))})):l.a.createElement("p",null,"Upload file to continue, once you are done, click on remove file")),l.a.createElement(S.ToastsContainer,{store:S.ToastsStore}))}}]),t}(l.a.Component),V=Object(c.b)((function(e){var t=e.file;return{fileText:t.fileText,fileError:t.fileError}}),(function(e){return{uploadFile:function(t){return e(function(e){return function(t){B.a.post("".concat(I,"/"),e,{withCredentials:!0}).then((function(e){return t(P(e.data.text))})).catch((function(e){return t(J(e.response.data))}))}}(t))},getFile:function(){return e((function(e){B.a.get("".concat(I,"/"),{withCredentials:!0}).then((function(t){return e(P(t.data))})).catch((function(t){return e(J(t.response.data))}))}))},replaceInFile:function(t,n){return e(function(e,t){return function(n){B.a.post("".concat(I,"/text"),{forReplace:e,replaceWith:t},{withCredentials:!0}).then((function(e){return n(P(e.data))})).catch((function(e){return n(J(e.response.data))}))}}(t,n))},downloadAsWord:function(){return e((function(e){B.a.get("".concat(I,"/word"),{withCredentials:!0,responseType:"blob"}).then((function(t){var n=new Blob([t.data]);if("function"===typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,"fileFromConvApp.docx"),e(H());else{var a=n,l=document.createElement("a");l.href=window.URL.createObjectURL(a),l.download="fileFromConvApp.docx",document.body.appendChild(l),l.click(),e(H())}})).catch((function(t){return e(J(t.response.data))}))}))},downloadAsPDF:function(){return e((function(e){B.a.get("".concat(I,"/pdf"),{withCredentials:!0,responseType:"blob"}).then((function(t){var n=new Blob([t.data]);if(console.log(n),"function"===typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,"fileFromConvApp.pdf"),e(H());else{var a=n;console.log("PDF Blob",a);var l=window.URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.setAttribute("download","fileFromConvApp.pdf"),document.body.appendChild(r),r.click(),e(H())}})).catch((function(t){return e(J(t.response.data))}))}))},removeFile:function(){return e((function(e){B.a.delete("".concat(I,"/"),{withCredentials:!0}).then((function(){return e(_())})).catch((function(t){return e(J(t.response.data))}))}))}}}))(M);var Y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(y.c,null,l.a.createElement(y.a,{exact:!0,path:"/",component:V})))};o.a.render(l.a.createElement(c.a,{store:F},l.a.createElement(i.a,null,l.a.createElement(Y,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.075d3133.chunk.js.map